<div class="container py-5">
  <h2 class="text-center mb-4 fw-bold">ðŸ›’ Your Cart</h2>

  <!-- Empty Cart -->
  <div *ngIf="cartItems.length === 0" class="text-center text-muted">
    <p>No items in your cart yet.</p>
    <a routerLink="/products" class="btn btn-outline-dark">Continue Shopping</a>
  </div>

  <!-- Cart Items -->
  <div *ngIf="cartItems.length > 0">
    <table class="table table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th>Product</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Subtotal</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartItems">
          <td>
            <div class="d-flex align-items-center">
              <img
                [src]="item.images?.[0] || 'https://via.placeholder.com/60'"
                alt="{{ item.name }}"
                class="me-3 rounded"
                width="60"
              />
              <div>
                <strong>{{ item.name }}</strong><br />
                <small class="text-muted">{{ item.categoryId?.name }}</small>
              </div>
            </div>
          </td>
          <td>â‚¹{{ item.price | number }}</td>
          <td>
            <div class="d-flex align-items-center">
              <button class="btn btn-sm btn-outline-secondary" (click)="decrease(item._id)">âˆ’</button>
              <span class="mx-2 fw-bold">{{ item.quantity }}</span>
              <button class="btn btn-sm btn-outline-secondary" (click)="increase(item._id)">+</button>
            </div>
          </td>
          <td>â‚¹{{ item.price * item.quantity | number }}</td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="removeItem(item._id)">
              ðŸ—‘ Remove
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Total + Actions -->
    <div class="d-flex justify-content-between align-items-center mt-4">
      <h4 class="mb-0">Total: â‚¹{{ getTotal() | number }}</h4>

      <div class="d-flex gap-2">
        <button class="btn btn-warning" (click)="clearCart()">ðŸ§¹ Clear Cart</button>
        <button class="btn btn-dark" (click)="checkout()">ðŸ’³ Checkout</button>
      </div>
    </div>
  </div>
</div>
